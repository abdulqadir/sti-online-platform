{% extends 'base.html' %}
{% load static %}
{% block style %}
<style>
    #demoOverlay {
        position: fixed;
        top: 0;
        right: 0;
        width: 100px;
        height: 100px;
        z-index: 10;
    }
    .section {
        padding: 21px 0;
    }
    .search {
        background: linear-gradient(90deg,#D2FFEF,#C6E3FF);
        text-shadow: 0 0 3px #FFF;
    }
    .search .intro {
        margin-top: 53px;
        text-align: center;
    }
    .intro img {
        max-width: 100%;
    }
    .search form {
        margin-top: 53px;
    }
    .search input {
        border: 1px solid #AAA;
        padding: 5px;
    }
    .search button {
            margin: 27px auto;
    }
    .search label {
        display: block;
    }
    .partner-logo {
        max-height: 36px;
    }
    .classify-content {
        margin-top: 27px;
        margin-bottom: 27px;
    }
    .classify-card-sdg {
        margin: 15px 0;
    }
    .classify-img {
        height: 150px;
    }
    .classify-card-partner {
        padding: 21px;
        margin-top:15px;
        margin-bottom:15px;
    }
    .classify-expand-partners-logo, .classify-expand-sdgs-logo {
        height: 27px;
        background-size: contain;
        background-position: center;
        background-repeat: no-repeat;
    }
    .classify-expand-sdgs-logo {
        height: 53px;
    }
    .classify-expand-partners-name {
        text-align: center;
        margin: 7px 0 23px 0;
    }
    .classify-card-location {
        padding: 15px 0;
    }
    .classify-description {
        background-color: #F7FAFC;
        padding: 21px;
        color: #333;
    }
    .classify-description-title {
        font-size: 36px;
        color: #327abe;
        margin-top:27px;
    }
    img {
        max-width: 100%;
        max-height: 100%;
    }
    .browse {
        background-color: #C6E3FF;
        background: linear-gradient(90deg,#D2FFEF,#C6E3FF);
    }
    .browse-title {
        text-align: center;
        margin: 13px 0;
    }
    .browse-types {
        margin: 13px 0;
    }
    .browse-type {
        text-align: center;
        cursor: pointer;
        margin-top: 15px;
        margin-bottom: 15px;
    }
    a:not([href]) .browse-type {
        color: #777;
        cursor: default;
    }
    .browse-type i {
        width: 53px;
        height: 53px;
        padding-top: 20px;
        background-color: rgba(255,255,255,0.53);
        color: #454647;
        border-radius: 53px;
    }
    .browse-type-title {
        padding: 13px 0;
    }
    .news {
        margin: 35px 0;
        clear: both;
        min-height: 65px;
    }
    .news-date {
        border: 1px solid #B6B7B9;
        float: left;
        padding: 1px 10px;
        margin-right: 21px;
        border-radius: 4px;
        text-align: center;
    }
    .news-date-month, .news-date-year {
        font-size: 12px;
    }
    .news-date-day {
        font-size: 16px;
        font-weight: bold;
    }
    .news-title {
        font-weight: bold;
    }
    .join {
        background-color: #C6E3FF;
        background: linear-gradient(90deg,#D2FFEF,#C6E3FF);
    }
    .join .container .col-xs-12 div {
        margin-bottom: 16px;
    }
</style>
{% endblock style %}
{% block content %}
        <div id="demoOverlay">
            <img src="{% static 'images/demo.svg' %}" />
        </div>
        <div class="search">
            <div class="container">
                <div class="intro col-xs-12">
                    <img src="{% static 'images/TFM.png' %}" />
                </div>
                <div id="search" class="collapse in">
                    <form action="/search/" class="col-xs-12">
                    <input class="col-xs-12" type="text" name="query" />
                    <center><button id="searchButton" type="submit" class="btn btn-info">Search</button></center>
                    </form>
                    <div class="need col-xs-12" style="margin:23px auto 1px auto;">
                        <center>If you would like to request or offer an opportunity, let us know and we will forward it to our network members</center>
                        <center><button class="btn btn-info" data-toggle="collapse" data-target="#need">Make a request or offer</button></center>
                    </div>
                </div>
                <div id="need" class="need-data collapse">
                    <form class="form-horizontal col-xs-12">
                        <div class="form-group">
                            <label for="needType" class="col-xs-2 control-label">I would like to</label>
                            <div class="col-xs-10">
                                <select id="needType" class="form-control">
                                    <option>Request technology</option>
                                    <option>Offer technology</option>
                                    <option>Request a business opportunity</option>
                                    <option>Offer a business opportunity</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                        <label for="needDescription" class="col-xs-2 control-label">Description</label>
                            <div class="col-xs-10">
                                <textarea id="needDescription" class="form-control"></textarea>
                            </div>
                        </div>
                        <div class="col-xs-12" style="margin:23px auto 12px auto;"><center>I can be contacted at</center></div>
                        <div class="col-xs-12">
                            <div class="form-group">
                                <label class="col-xs-1" for="needCompanyName">Name</label>
                                <div class="col-xs-3">
                                    <input id="needCompanyName" class="form-control" type="text"/>
                                </div>
                                <label class="col-xs-1" for="needCompanyAddress">Address</label>
                                <div class="col-xs-3">
                                    <input id="needCompanyAddress" class="form-control" type="text" />
                                </div>
                                <label class="col-xs-1" for="needCompanyEmail">Email</label>
                                <div class="col-xs-3">
                                    <input id="needCompanyEmail" class="form-control" type="email"/>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12" style="margin:23px auto 12px auto;"><center>Submit my details to</center></div>
                        <div class="col-xs-12">
                            <div class="row">
                                <div class="col-xs-2">
                                    <input class="filter-partner" type="checkbox" id="apctt" checked/>
                                    <label for="apctt"><img class="partner-logo" src="{% static 'images/apctt-logo.png' %}" /></label>
                                </div>
                                <div class="col-xs-2">
                                    <input class="filter-partner" type="checkbox" id="cittc" checked/>
                                    <label for="cittc"><img class="partner-logo" src="{% static 'images/cittc-logo.png' %}" /></label>
                                </div>
                                <div class="col-xs-2">
                                    <input class="filter-partner" type="checkbox" id="unido" checked/>
                                    <label for="unido"><img class="partner-logo" src="{% static 'images/unido-logo.png' %}" /></label>
                                </div>
                                <div class="col-xs-2">
                                    <input class="filter-partner" type="checkbox" id="wipogreen" checked/>
                                    <label for="wipogreen"><img class="partner-logo" src="{% static 'images/wipo-green-logo.png' %}" /></label>
                                </div>
                                <div class="col-xs-2">
                                    <input class="filter-partner" type="checkbox" id="een" checked/>
                                    <label for="een"><img class="partner-logo" src="{% static 'images/een-logo.png' %}" /></label>
                                </div>
                                <div class="col-xs-2">
                                    <input class="filter-partner" type="checkbox" id="unfccc" checked/>
                                    <label for="unfccc"><img class="partner-logo" src="{% static 'images/unfccc-logo.png' %}" /></label>
                                </div>
                            </div>
                            <div class="row" style="margin-top:21px;">
                                <div class="col-xs-2">
                                    <input class="filter-partner" type="checkbox" id="unossc" checked/>
                                    <label for="unossc"><img class="partner-logo" src="{% static 'images/unossc-logo.png' %}" /></label>
                                </div>
                                <div class="col-xs-2">
                                    <input class="filter-partner" type="checkbox" id="openaire" checked/>
                                    <label for="openaire"><img class="partner-logo" src="{% static 'images/openaire-logo.png' %}" /></label>
                                </div>
                                <div class="col-xs-2">
                                    <input class="filter-partner" type="checkbox" id="undesa" checked/>
                                    <label for="undesa"><img class="partner-logo" src="{% static 'images/undesa-logo.png' %}" /></label>
                                </div>
                                <div class="col-xs-2">
                                    <input class="filter-partner" type="checkbox" id="unoict" checked/>
                                    <label for="unoict"><img class="partner-logo" src="{% static 'images/unoict-logo.png' %}" /></label>
                                </div>
                                <div class="col-xs-2">
                                    <input class="filter-partner" type="checkbox" id="worldbank" checked/>
                                    <label for="worldbank"><img class="partner-logo" src="{% static 'images/world-bank-logo.png' %}" /></label>
                                </div>
                                <div class="col-xs-2">
                                    <input class="filter-partner" type="checkbox" id="ctcn" checked/>
                                    <label for="ctcn"><img class="partner-logo" src="{% static 'images/ctcn-logo.png' %}" /></label>
                                </div>
                            </div>
                            <div class="row" style="margin-top:21px;">
                                <div class="col-xs-2">
                                    <input class="filter-partner" type="checkbox" id="wipomatch" checked/>
                                    <label for="wipomatch"><img class="partner-logo" src="{% static 'images/wipo-match-logo.png' %}" /></label>
                                </div>
                            </div>
                        </div>
                        <center><button id="submitButton" class="btn btn-info">Submit</button></center>
                    </form>
                    <center> Or </center>
                    <center><button class="btn btn-info" data-toggle="collapse" data-target="#search">Search</button></center>
                </div>
            </div>
        </div>
        <script>
            $('#need').on('show.bs.collapse', function() {
                $('#search').collapse('hide');
            })
            $('#search').on('show.bs.collapse', function() {
                $('#need').collapse('hide');
            });
        </script>
        {% include "sti/index-visualization.html" %}
        <div class="classify">
            <div class="classify-card">
                <div class="classify-description">
                    <div class="container">
                        <div class="classify-img col-xs-2 col-xs-offset-1">
                            <img src="{% static 'images/E_SDG_logo_with_UN_Emblem_square_rgb.png' %}"/>
                        </div>
                        <div class="col-xs-8">
                            <div class="classify-description-title">Sustainable Development Goals</div>
                            <div class="classify-description-subtext">Select any SDG to see related STI initiatives and opportunities</div>
                        </div>
                    </div>
                </div>
                <div class="container">
                    <div class="classify-content col-xs-12">
                        {% for sdg in sdgs %}
                        <div class="classify-card-sdg col-xs-3 col-sm-2">
                            <a href="/sdg/{{sdg}}/">
                                <div class="classify-expand-sdgs-logo" style="background-image:url('{% static 'images/sdg_icons/' %}SDG-{{sdg|stringformat:"02d"}}.jpg');"></div>
                            </a>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
            <div class="classify-card">
                <div class="classify-description">
                    <div class="container">
                        <div class="classify-img col-xs-2 col-xs-offset-1">
                            <img src="{% static 'images/location.png' %}" />
                        </div>
                        <div class="col-xs-8">
                            <div class="classify-description-title">
                                Locate
                            </div>
                            <div class="classify-description-subtext">
                                See the latest offerings and innovations in your country and around the world.
                            </div>
                        </div>
                    </div>
                </div>
                <div class="container">
                    <div class="classify-content col-xs-12">
                        {% for country, count in countries %}
                        <div class="classify-card-location col-xs-4 col-sm-3 col-md-2" data-country="{{country}}" data-count="{{ count }}">
                            <a href="/search/?location={{ country }}">{{ country }}</a>
                        </div>
                        {% endfor %}
                        <script>
                            $('.classify-card-location').on('mouseover', function(e) {
                                var $elem = $(this);
                                var $card = $elem.parents('.classify-card');
                                var $title = $('.classify-description-title', $card);
                                var $subtext = $('.classify-description-subtext', $card);
                                if (!$title.data('text')) {
                                    $title.data('text', $title.text());
                                }
                                $title.text($elem.data('country'));
                                if (!$subtext.data('text')) {
                                    $subtext.data('text', $subtext.text());
                                }
                                $subtext.text($elem.data('count') + ' results');
                            });
                            $('.classify-card-location').on('mouseout', function(e) {
                                var $elem = $(this);
                                var $card = $elem.parents('.classify-card');
                                var $title = $('.classify-description-title', $card);
                                var $subtext = $('.classify-description-subtext', $card);
                                $title.text($title.data('text'));
                                $subtext.text($subtext.data('text'));
                            });
                        </script>
                        <div class="classify-card-location col-xs-12">
                            <form action="/search/">
                                <div class="input-group col-xs-9 col-xs-offset-1">
                                    <span class="input-group-addon">Country</span>
                                    <input type="text" name="location" class="form-control"/>
                                    <span class="input-group-btn">
                                        <button class="btn btn-default" type="submit">Go</button>
                                    </span>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            <div class="classify-card">
                <div class="classify-description">
                    <div class="container">
                        <div class="classify-img col-xs-2 col-xs-offset-1">
                            <img src="{% static 'images/institute.png' %}" />
                        </div>
                        <div class="col-xs-8">
                            <div class="classify-description-title">Network Members</div>
                            <div class="classify-description-subtext">We gather data from multiple sources. View all data from the various members of our network</div>
                        </div>
                    </div>
                </div>
                <div class="container">
                    <div class="classify-content col-xs-12">
                        <div class="classify-card-partner col-xs-4 col-md-2 col-md-offset-1">
                            <a href="/search/?partners={&quot;apctt&quot;%3Atrue}">
                                <div class="classify-expand-partners-logo" style="background-image:url('{% static 'images/apctt-logo.png' %}');"></div>
                                <div class="classify-expand-partners-name">APCTT</div>
                            </a>
                        </div>
                        <div class="classify-card-partner col-xs-4 col-md-2">
                            <a href="/search/?partners={&quot;cittc&quot;%3Atrue}">
                                <div class="classify-expand-partners-logo" style="background-image:url('{% static 'images/cittc-logo.png' %}');"></div>
                                <div class="classify-expand-partners-name">CITTC</div>
                            </a>
                        </div>
                        <div class="classify-card-partner col-xs-4 col-md-2">
                            <a href="/search/?partners={&quot;unido&quot;%3Atrue}">
                                <div class="classify-expand-partners-logo" style="background-image:url('{% static 'images/unido-logo.png' %}');"></div>
                                <div class="classify-expand-partners-name">UNIDO</div>
                            </a>
                        </div>
                        <div class="classify-card-partner col-xs-4 col-md-2">
                            <a href="/search/?partners={&quot;wipogreen&quot;%3Atrue}">
                                <div class="classify-expand-partners-logo" style="background-image:url('{% static 'images/wipo-green-logo.png' %}');"></div>
                                <div class="classify-expand-partners-name">WIPO GREEN</div>
                            </a>
                        </div>
                        <div class="classify-card-partner col-xs-4 col-md-2">
                            <a href="/search/?partners={&quot;een&quot;%3Atrue}">
                                <div class="classify-expand-partners-logo" style="background-image:url('{% static 'images/een-logo.png' %}');"></div>
                                <div class="classify-expand-partners-name">EEN</div>
                            </a>
                        </div>
                        <div class="classify-card-partner col-xs-4 col-md-2 col-md-offset-1">
                            <a href="/search/?partners={&quot;unfccc&quot;%3Atrue}">
                                <div class="classify-expand-partners-logo" style="background-image:url('{% static 'images/unfccc-logo.png' %}');"></div>
                                <div class="classify-expand-partners-name">UNFCCC</div>
                            </a>
                        </div>
                        <div class="classify-card-partner col-xs-4 col-md-2">
                            <a href="/search/?partners={&quot;unossc&quot;%3Atrue}">
                                <div class="classify-expand-partners-logo" style="background-image:url('{% static 'images/unossc-logo.png' %}');"></div>
                                <div class="classify-expand-partners-name">UNOSSC</div>
                            </a>
                        </div>
                        <div class="classify-card-partner col-xs-4 col-md-2">
                            <a href="/search/?partners={&quot;openaire&quot;%3Atrue}">
                                <div class="classify-expand-partners-logo" style="background-image:url('{% static 'images/openaire-logo.png' %}');"></div>
                                <div class="classify-expand-partners-name">OpenAire</div>
                            </a>
                        </div>
                        <div class="classify-card-partner col-xs-4 col-md-2">
                            <a href="/search/?partners={&quot;undesa&quot;%3Atrue}">
                                <div class="classify-expand-partners-logo" style="background-image:url('{% static 'images/undesa-logo.png' %}');"></div>
                                <div class="classify-expand-partners-name">UNDESA</div>
                            </a>
                        </div>
                        <div class="classify-card-partner col-xs-4 col-md-2">
                            <a href="/search/?partners={&quot;unoict&quot;%3Atrue}">
                                <div class="classify-expand-partners-logo" style="background-image:url('{% static 'images/unoict-logo.png' %}');"></div>
                                <div class="classify-expand-partners-name">UNOICT</div>
                            </a>
                        </div>
                        <div class="classify-card-partner col-xs-4 col-md-2 col-md-offset-3">
                            <a href="/search/?partners={&quot;worldbank&quot;%3Atrue}">
                                <div class="classify-expand-partners-logo" style="background-image:url('{% static 'images/world-bank-logo.png' %}');"></div>
                                <div class="classify-expand-partners-name">World Bank</div>
                            </a>
                        </div>
                        <div class="classify-card-partner col-xs-4 col-md-2">
                            <a href="/search/?partners={&quot;ctcn&quot;%3Atrue}">
                                <div class="classify-expand-partners-logo" style="background-image:url('{% static 'images/ctcn-logo.png' %}');"></div>
                                <div class="classify-expand-partners-name">CTCN</div>
                            </a>
                        </div>
                        <div class="classify-card-partner col-xs-4 col-md-2">
                            <a href="/search/?partners={&quot;wipomatch&quot;%3Atrue}">
                                <div class="classify-expand-partners-logo" style="background-image:url('{% static 'images/wipo-match-logo.png' %}');"></div>
                                <div class="classify-expand-partners-name">WIPO Match</div>
                            </a>
                        </div>
                        <div class="col-xs-12">
                            <center>More members coming soon...</center>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="browse">
            <div class="container">
                <div class="browse-title title">
                    Browse
                </div>
                <div class="browse-types col-xs-12">
                    <a href="/search/?types={&quot;publications&quot;%3Atrue}">
                    <div class="browse-type col-sm-2">
                        <div><i class="fa fa-lg fa-book"></i></div>
                        <div class="browse-type-title">Publications</div>
                    </div>
                    </a>
                    <a href="/search/?types={&quot;technologyoffers&quot;%3Atrue}">
                    <div class="browse-type col-sm-2">
                        <div><i class="fa fa-lg fa-code-fork"></i></div>
                        <div class="browse-type-title">Technology Offers</div>
                    </div>
                    </a>
                    <a href="/search/?types={&quot;technologyrequests&quot;%3Atrue}">
                    <div class="browse-type col-sm-2">
                        <div><i class="fa fa-lg fa-handshake-o"></i></div>
                        <div class="browse-type-title">Technology Requests</div>
                    </div>
                    </a>
                    <a href="/search/?types={&quot;businessoffers&quot;%3Atrue}">
                    <div class="browse-type col-sm-2">
                        <div><i class="fa fa-lg fa-bullhorn"></i></div>
                        <div class="browse-type-title">Business Offers</div>
                    </div>
                    </a>
                    <a href="/search/?types={&quot;businessrequests&quot;%3Atrue}">
                    <div class="browse-type col-sm-2">
                        <div><i class="fa fa-lg fa-briefcase"></i></div>
                        <div class="browse-type-title">Business Requests</div>
                    </div>
                    </a>
                    <a href="/search/?types={&quot;people&quot;%3Atrue}">
                    <div class="browse-type col-sm-2">
                        <div><i class="fa fa-lg fa-address-book-o"></i></div>
                        <div class="browse-type-title">People</div>
                    </div>
                    </a>
                    <a href="http://sdg-calendar.us-east-2.elasticbeanstalk.com/">
                    <div class="browse-type col-sm-2 col-sm-offset-1">
                        <div><i class="fa fa-lg fa-calendar"></i></div>
                        <div class="browse-type-title">Events</div>
                    </div>
                    </a>
                    <a href="/search/?types={&quot;training&quot;%3Atrue}">
                    <div class="browse-type col-sm-2">
                        <div><i class="fa fa-lg fa-graduation-cap"></i></div>
                        <div class="browse-type-title">Training</div>
                    </div>
                    </a>
                    <a href="/search/?types={&quot;projects&quot;%3Atrue}">
                    <div class="browse-type col-sm-2">
                        <div><i class="fa fa-lg fa-cube"></i></div>
                        <div class="browse-type-title">Projects</div>
                    </div>
                    </a>
                    <a title="Coming soon..">
                    <div class="browse-type col-sm-2">
                        <div><i class="fa fa-lg fa-bank"></i></div>
                        <div class="browse-type-title">Funding</div>
                    </div>
                    </a>
                    <a title="Coming soon..">
                    <div class="browse-type col-sm-2">
                        <div><i class="fa fa-lg fa-list"></i></div>
                        <div class="browse-type-title">Services</div>
                    </div>
                    </a>
                </div>
            </div>
        </div>
        <div class="latest section">
            <div class="container">
                <div class="title">Latest News</div>
                <div class="col-xs-12 col-sm-6">
                    <div class="content">
                        {% for news in events %}
                        <div class="news">
                            <div class="news-date">
                                <div class="news-date-month">{{news.date|date:'M'}}</div>
                                <div class="news-date-day">{{news.date|date:'j'}}</div>
                                <div class="news-date-year">{{news.date|date:'o'}}</div>
                            </div>
                            <div class="news-title">{{news.title}}</div>
                            <div class="news-content">
                                {{news.description}}
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                <div class="col-xs-12 col-sm-6" style="height: 700px; overflow:auto">
                    <a class="twitter-timeline" data-dnt="true" href="https://twitter.com/UN_UniteIdeas?ref_src=twsrc%5Etfw">Tweets by UN_UniteIdeas</a> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
                </div>
            </div>
        </div>
        <div class="join section">
            <div class="container">
                <div class="col-xs-12">
                    <div class="title">Join our network</div>
                    <div class="content">
                        If you or your organization are involved in providing services related to the transfer of technology or scientific innovation, we would love to get in touch. Contact us for collaborative opportunities.
                    </div>
                    <button class="btn btn-info">Contact Us</button>
                </div>
            </div>
        </div>
{% endblock content %}
